# Generated by Django 4.2 on 2025-12-07 15:08

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("banking", "0001_initial"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AddField(
            model_name="userencryptionkey",
            name="user",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="banking_encryption_key",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="transaction",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="banking.account"
            ),
        ),
        migrations.AddField(
            model_name="transaction",
            name="cashier",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="transaction",
            name="related_account",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="related_transactions",
                to="banking.account",
            ),
        ),
        migrations.AddField(
            model_name="regulatoryfiling",
            name="accounts",
            field=models.ManyToManyField(
                related_name="regulatory_filings", to="banking.account"
            ),
        ),
        migrations.AddField(
            model_name="regulatoryfiling",
            name="compliance_reports",
            field=models.ManyToManyField(
                related_name="regulatory_filings", to="banking.compliancereport"
            ),
        ),
        migrations.AddField(
            model_name="regulatoryfiling",
            name="prepared_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="prepared_filings",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="regulatoryfiling",
            name="submitted_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="submitted_filings",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="regulatoryfiling",
            name="users",
            field=models.ManyToManyField(
                related_name="regulatory_filings", to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="refund",
            name="approved_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="approved_refunds",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="refund",
            name="original_transaction",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="refunds",
                to="banking.transaction",
            ),
        ),
        migrations.AddField(
            model_name="refund",
            name="processed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="processed_refunds",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="refund",
            name="refund_transaction",
            field=models.OneToOneField(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="refund_transaction",
                to="banking.transaction",
            ),
        ),
        migrations.AddField(
            model_name="refund",
            name="requested_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="refund_requests",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="notification",
            name="cash_advance",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="notifications",
                to="banking.cashadvance",
            ),
        ),
        migrations.AddField(
            model_name="notification",
            name="complaint",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="notifications",
                to="banking.complaint",
            ),
        ),
        migrations.AddField(
            model_name="notification",
            name="recipient",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="notifications",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="notification",
            name="refund",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="notifications",
                to="banking.refund",
            ),
        ),
        migrations.AddField(
            model_name="notification",
            name="sender",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="sent_notifications",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="notification",
            name="transaction",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="notifications",
                to="banking.transaction",
            ),
        ),
        migrations.AddField(
            model_name="messagethread",
            name="created_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="created_banking_threads",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="messagethread",
            name="participants",
            field=models.ManyToManyField(
                related_name="banking_messaging_threads", to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="messagereaction",
            name="message",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="reactions",
                to="banking.message",
            ),
        ),
        migrations.AddField(
            model_name="messagereaction",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="banking_message_reactions",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="message",
            name="read_by",
            field=models.ManyToManyField(
                blank=True,
                related_name="read_banking_messages",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="message",
            name="sender",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="sent_banking_messages",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="message",
            name="thread",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="messages",
                to="banking.messagethread",
            ),
        ),
        migrations.AddField(
            model_name="loanrepayment",
            name="loan",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="repayments",
                to="banking.loan",
            ),
        ),
        migrations.AddField(
            model_name="loanrepayment",
            name="transaction",
            field=models.OneToOneField(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="banking.transaction",
            ),
        ),
        migrations.AddField(
            model_name="loanapplication",
            name="applicant",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="loan_applications",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="loanapplication",
            name="reviewed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="reviewed_loans",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="loan",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="loans",
                to="banking.account",
            ),
        ),
        migrations.AddField(
            model_name="loan",
            name="application",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="loan",
                to="banking.loanapplication",
            ),
        ),
        migrations.AddField(
            model_name="kycapplication",
            name="submitted_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="interestaccrual",
            name="loan",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="interest_accruals",
                to="banking.loan",
            ),
        ),
        migrations.AddField(
            model_name="identityverification",
            name="account_opening",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="identity_verifications",
                to="banking.accountopening",
            ),
        ),
        migrations.AddField(
            model_name="identityverification",
            name="initiated_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="initiated_verifications",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="identityverification",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="identity_verification_records",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="identityverification",
            name="verified_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="performed_verifications",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="feetransaction",
            name="fee_structure",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="banking.feestructure"
            ),
        ),
        migrations.AddField(
            model_name="feetransaction",
            name="transaction",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="fees",
                to="banking.transaction",
            ),
        ),
        migrations.AddField(
            model_name="documentverification",
            name="completed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="verification_completed",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="documentverification",
            name="document",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="verifications",
                to="banking.document",
            ),
        ),
        migrations.AddField(
            model_name="documentverification",
            name="initiated_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="verification_initiated",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="document",
            name="account_closure",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="uploaded_documents",
                to="banking.accountclosure",
            ),
        ),
        migrations.AddField(
            model_name="document",
            name="account_opening",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="uploaded_documents",
                to="banking.accountopening",
            ),
        ),
        migrations.AddField(
            model_name="document",
            name="reviewed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="documents_reviewed",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="document",
            name="uploaded_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="documents_uploaded",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="document",
            name="user",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="uploaded_documents",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="compliancereport",
            name="account",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="compliance_reports",
                to="banking.account",
            ),
        ),
        migrations.AddField(
            model_name="compliancereport",
            name="account_closure",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="compliance_reports",
                to="banking.accountclosure",
            ),
        ),
        migrations.AddField(
            model_name="compliancereport",
            name="account_opening",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="compliance_reports",
                to="banking.accountopening",
            ),
        ),
        migrations.AddField(
            model_name="compliancereport",
            name="generated_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="generated_banking_reports",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="compliancereport",
            name="reviewed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="reviewed_reports",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="compliancereport",
            name="user",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="compliance_reports",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="complaint",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="complaints",
                to="banking.account",
            ),
        ),
        migrations.AddField(
            model_name="complaint",
            name="assigned_to",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="assigned_complaints",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="complaint",
            name="escalated_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="escalated_complaints",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="complaint",
            name="related_transaction",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="complaints",
                to="banking.transaction",
            ),
        ),
        migrations.AddField(
            model_name="complaint",
            name="resolved_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="resolved_complaints",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="complaint",
            name="submitted_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="submitted_complaints",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="clientregistration",
            name="bank_account",
            field=models.OneToOneField(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="client_registration",
                to="banking.account",
            ),
        ),
        migrations.AddField(
            model_name="clientregistration",
            name="next_of_kin",
            field=models.ManyToManyField(
                blank=True, related_name="client_registrations", to="banking.nextofkin"
            ),
        ),
        migrations.AddField(
            model_name="clientregistration",
            name="reviewed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="reviewed_client_registrations",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="clientregistration",
            name="user_account",
            field=models.OneToOneField(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="client_registration",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="checkimage",
            name="check_deposit",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="images",
                to="banking.checkdeposit",
            ),
        ),
        migrations.AddField(
            model_name="checkdeposit",
            name="processed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="processed_check_deposits",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="checkdeposit",
            name="transaction",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="check_deposit",
                to="banking.transaction",
            ),
        ),
        migrations.AddField(
            model_name="cashtransaction",
            name="cash_drawer",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="transactions",
                to="banking.cashdrawer",
            ),
        ),
        migrations.AddField(
            model_name="cashtransaction",
            name="processed_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="cashtransaction",
            name="transaction",
            field=models.OneToOneField(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.PROTECT,
                related_name="cash_transaction",
                to="banking.transaction",
            ),
        ),
        migrations.AddField(
            model_name="cashreconciliation",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to="banking.branch"
            ),
        ),
        migrations.AddField(
            model_name="cashreconciliation",
            name="cash_drawer",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="reconciliation",
                to="banking.cashdrawer",
            ),
        ),
        migrations.AddField(
            model_name="cashreconciliation",
            name="created_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="created_reconciliations",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="cashreconciliation",
            name="reviewed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="reviewed_reconciliations",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="cashdrawer",
            name="assigned_cashier",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="cash_drawers",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="cashdrawer",
            name="branch",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="cash_drawers",
                to="banking.branch",
            ),
        ),
        migrations.AddField(
            model_name="cashadvance",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="cash_advances",
                to="banking.account",
            ),
        ),
        migrations.AddField(
            model_name="cashadvance",
            name="approved_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="approved_banking_cash_advances",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="cashadvance",
            name="disbursed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="disbursed_cash_advances",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="cashadvance",
            name="disbursement_transaction",
            field=models.OneToOneField(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="cash_advance",
                to="banking.transaction",
            ),
        ),
        migrations.AddField(
            model_name="cashadvance",
            name="requested_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="cash_advance_requests",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="branch",
            name="manager",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="managed_branches",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="accountopening",
            name="account",
            field=models.OneToOneField(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="opening_application",
                to="banking.account",
            ),
        ),
        migrations.AddField(
            model_name="accountopening",
            name="applicant",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="account_openings",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="accountopening",
            name="compliance_checked_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="compliance_checks",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="accountopening",
            name="document_verified_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="document_verifications",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="accountopening",
            name="identity_verified_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="identity_verifications",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="accountopening",
            name="reviewed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="account_reviews",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="accountclosureaudit",
            name="closure",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="audit_trail",
                to="banking.accountclosure",
            ),
        ),
        migrations.AddField(
            model_name="accountclosureaudit",
            name="performed_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL
            ),
        ),
        migrations.AddField(
            model_name="accountclosure",
            name="account",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="closure_requests",
                to="banking.account",
            ),
        ),
        migrations.AddField(
            model_name="accountclosure",
            name="approved_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="approved_closures",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="accountclosure",
            name="processed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="processed_closures",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="accountclosure",
            name="requested_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="closure_requests",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="accountclosure",
            name="verified_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="verified_closures",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="account",
            name="owner",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="accounts",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddIndex(
            model_name="regulatoryfiling",
            index=models.Index(
                fields=["filing_type"], name="banking_reg_filing__241f9d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="regulatoryfiling",
            index=models.Index(fields=["status"], name="banking_reg_status_75352f_idx"),
        ),
        migrations.AddIndex(
            model_name="regulatoryfiling",
            index=models.Index(
                fields=["filing_reference"], name="banking_reg_filing__de50e6_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="regulatoryfiling",
            index=models.Index(
                fields=["prepared_at"], name="banking_reg_prepare_c5f847_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="refund",
            index=models.Index(fields=["status"], name="banking_ref_status_c63a16_idx"),
        ),
        migrations.AddIndex(
            model_name="refund",
            index=models.Index(
                fields=["original_transaction"], name="banking_ref_origina_1798a7_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="refund",
            index=models.Index(
                fields=["requested_by"], name="banking_ref_request_c56bea_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="refund",
            index=models.Index(
                fields=["approved_by"], name="banking_ref_approve_1d690d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="refund",
            index=models.Index(
                fields=["processed_by"], name="banking_ref_process_9d68d9_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="notification",
            index=models.Index(fields=["status"], name="banking_not_status_13e77c_idx"),
        ),
        migrations.AddIndex(
            model_name="notification",
            index=models.Index(
                fields=["notification_type"], name="banking_not_notific_1b251d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="notification",
            index=models.Index(
                fields=["priority"], name="banking_not_priorit_4c286d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="notification",
            index=models.Index(
                fields=["recipient"], name="banking_not_recipie_e2e1e4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="notification",
            index=models.Index(
                fields=["created_at"], name="banking_not_created_13eeab_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="messagereaction",
            unique_together={("user", "message", "emoji")},
        ),
        migrations.AlterUniqueTogether(
            name="interestaccrual",
            unique_together={("loan", "accrual_date")},
        ),
        migrations.AddIndex(
            model_name="identityverification",
            index=models.Index(fields=["status"], name="banking_ide_status_e57fcd_idx"),
        ),
        migrations.AddIndex(
            model_name="identityverification",
            index=models.Index(
                fields=["verification_type"], name="banking_ide_verific_6ac0cb_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="identityverification",
            index=models.Index(fields=["user"], name="banking_ide_user_id_17c893_idx"),
        ),
        migrations.AddIndex(
            model_name="identityverification",
            index=models.Index(
                fields=["verified"], name="banking_ide_verifie_a97b93_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="documentverification",
            index=models.Index(fields=["status"], name="banking_doc_status_dd650f_idx"),
        ),
        migrations.AddIndex(
            model_name="documentverification",
            index=models.Index(
                fields=["verification_type"], name="banking_doc_verific_214df8_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="documentverification",
            index=models.Index(
                fields=["document"], name="banking_doc_documen_3f8ad4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="document",
            index=models.Index(fields=["status"], name="banking_doc_status_0f7993_idx"),
        ),
        migrations.AddIndex(
            model_name="document",
            index=models.Index(
                fields=["document_type"], name="banking_doc_documen_6169a4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="document",
            index=models.Index(fields=["user"], name="banking_doc_user_id_4bf93d_idx"),
        ),
        migrations.AddIndex(
            model_name="document",
            index=models.Index(
                fields=["account_opening"], name="banking_doc_account_abd201_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="document",
            index=models.Index(
                fields=["account_closure"], name="banking_doc_account_985471_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="document",
            index=models.Index(
                fields=["expiry_date"], name="banking_doc_expiry__2d0816_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="compliancereport",
            index=models.Index(
                fields=["report_type"], name="banking_com_report__731e68_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="compliancereport",
            index=models.Index(fields=["status"], name="banking_com_status_3d4664_idx"),
        ),
        migrations.AddIndex(
            model_name="compliancereport",
            index=models.Index(
                fields=["risk_level"], name="banking_com_risk_le_1468cc_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="compliancereport",
            index=models.Index(
                fields=["generated_at"], name="banking_com_generat_94a97a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="compliancereport",
            index=models.Index(
                fields=["account_opening"], name="banking_com_account_c47a3e_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="compliancereport",
            index=models.Index(
                fields=["account_closure"], name="banking_com_account_16a087_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="compliancereport",
            index=models.Index(
                fields=["account"], name="banking_com_account_ef6db4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="complaint",
            index=models.Index(fields=["status"], name="banking_com_status_b8bbbc_idx"),
        ),
        migrations.AddIndex(
            model_name="complaint",
            index=models.Index(
                fields=["priority"], name="banking_com_priorit_54b8d8_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="complaint",
            index=models.Index(
                fields=["complaint_type"], name="banking_com_complai_28a8d6_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="complaint",
            index=models.Index(
                fields=["account"], name="banking_com_account_24ea3c_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="complaint",
            index=models.Index(
                fields=["assigned_to"], name="banking_com_assigne_ed0304_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="complaint",
            index=models.Index(
                fields=["escalation_level"], name="banking_com_escalat_a46238_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="complaint",
            index=models.Index(
                fields=["submitted_at"], name="banking_com_submitt_b55e5d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="clientregistration",
            index=models.Index(fields=["status"], name="banking_cli_status_6f9b76_idx"),
        ),
        migrations.AddIndex(
            model_name="clientregistration",
            index=models.Index(
                fields=["phone_number"], name="banking_cli_phone_n_fdb850_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="clientregistration",
            index=models.Index(
                fields=["submitted_at"], name="banking_cli_submitt_63c157_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="checkimage",
            unique_together={("check_deposit", "image_type")},
        ),
        migrations.AlterUniqueTogether(
            name="cashreconciliation",
            unique_together={("cash_drawer", "reconciliation_date")},
        ),
        migrations.AlterUniqueTogether(
            name="cashdrawer",
            unique_together={("branch", "assigned_cashier", "session_start")},
        ),
        migrations.AddIndex(
            model_name="cashadvance",
            index=models.Index(fields=["status"], name="banking_cas_status_c2a001_idx"),
        ),
        migrations.AddIndex(
            model_name="cashadvance",
            index=models.Index(
                fields=["account"], name="banking_cas_account_547b15_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="cashadvance",
            index=models.Index(
                fields=["requested_by"], name="banking_cas_request_1181b8_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="cashadvance",
            index=models.Index(
                fields=["approved_by"], name="banking_cas_approve_18098f_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="cashadvance",
            index=models.Index(
                fields=["repayment_due_date"], name="banking_cas_repayme_ff75a8_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="accountopening",
            index=models.Index(fields=["status"], name="banking_acc_status_1889f3_idx"),
        ),
        migrations.AddIndex(
            model_name="accountopening",
            index=models.Index(
                fields=["applicant"], name="banking_acc_applica_1b19f4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="accountopening",
            index=models.Index(
                fields=["identity_verified"], name="banking_acc_identit_8e4969_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="accountopening",
            index=models.Index(
                fields=["compliance_checked"], name="banking_acc_complia_aa44ff_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="accountclosureaudit",
            index=models.Index(
                fields=["closure"], name="banking_acc_closure_f5a7c2_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="accountclosureaudit",
            index=models.Index(fields=["action"], name="banking_acc_action_1b6c2f_idx"),
        ),
        migrations.AddIndex(
            model_name="accountclosureaudit",
            index=models.Index(
                fields=["performed_by"], name="banking_acc_perform_a46173_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="accountclosure",
            index=models.Index(fields=["status"], name="banking_acc_status_8dbb48_idx"),
        ),
        migrations.AddIndex(
            model_name="accountclosure",
            index=models.Index(
                fields=["account"], name="banking_acc_account_6cef5b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="accountclosure",
            index=models.Index(
                fields=["requested_by"], name="banking_acc_request_5e3392_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="accountclosure",
            index=models.Index(
                fields=["closure_reason"], name="banking_acc_closure_e963cf_idx"
            ),
        ),
    ]
