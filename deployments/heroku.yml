# Heroku Configuration
# Estimated cost: ~$7-25/month (Eco/Basic dynos)
# https://devcenter.heroku.com/articles/getting-started-with-python
# https://devcenter.heroku.com/articles/getting-started-with-nodejs

# Backend Procfile (place in banking_backend/Procfile)
# web: gunicorn config.wsgi:application --bind 0.0.0.0:$PORT --workers 2 --threads 4 --worker-class gthread --worker-tmp-dir /dev/shm

# Backend runtime.txt (place in banking_backend/runtime.txt)
# python-3.12.0

# Frontend Procfile (place in frontend/Procfile)
# web: npx serve -s dist -l $PORT

# Heroku app.json for backend (place in banking_backend/app.json)
app_json:
  name: "Banking Backend"
  description: "Django backend for secure banking application"
  keywords: ["django", "banking", "finance", "api"]
  website: "https://your-backend-app.herokuapp.com"
  repository: "https://github.com/your-username/your-repo"
  env:
    ENVIRONMENT:
      description: "Environment setting"
      value: "production"
    SECRET_KEY:
      description: "Django secret key"
      generator: "secret"
    ENCRYPTION_KEY:
      description: "Encryption key for sensitive data"
      generator: "secret"
    ENCRYPTION_SALT:
      description: "Encryption salt"
      generator: "secret"
  addons:
    - plan: "heroku-postgresql:hobby-basic"
      options:
        version: "15"
    - plan: "heroku-redis:hobby-dev"
  buildpacks:
    - url: "heroku/python"
  scripts:
    postdeploy: "python manage.py migrate && python manage.py collectstatic --noinput"

# Heroku app.json for frontend (place in frontend/app.json)
frontend_app_json:
  name: "Banking Frontend"
  description: "React frontend for banking application"
  keywords: ["react", "banking", "frontend"]
  website: "https://your-frontend-app.herokuapp.com"
  repository: "https://github.com/your-username/your-repo"
  env:
    REACT_APP_API_BASE_URL:
      description: "Backend API URL"
      value: "https://your-backend-app.herokuapp.com"
  buildpacks:
    - url: "heroku/nodejs"