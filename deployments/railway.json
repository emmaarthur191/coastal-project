{
  "name": "Banking App",
  "description": "Secure banking application with Django backend and React frontend",
  "keywords": ["django", "react", "banking", "finance"],
  "website": "https://your-app.railway.app",
  "repository": "https://github.com/your-username/your-repo",

  "services": {
    "backend": {
      "name": "Banking Backend",
      "source": {
        "repo": "https://github.com/your-username/your-repo",
        "path": "banking_backend"
      },
      "build": {
        "builder": "NIXPACKS"
      },
      "deploy": {
        "startCommand": "gunicorn config.wsgi:application --bind 0.0.0.0:$PORT --workers 2 --threads 4",
        "healthcheckPath": "/health/",
        "healthcheckTimeout": 300,
        "restartPolicyType": "ON_FAILURE",
        "restartPolicyMaxRetries": 10
      },
      "env": {
        "ENVIRONMENT": "production",
        "DEBUG": "False",
        "SECRET_KEY": "${{ RAILWAY_SECRET_KEY }}",
        "ENCRYPTION_KEY": "${{ RAILWAY_ENCRYPTION_KEY }}",
        "ENCRYPTION_SALT": "${{ RAILWAY_ENCRYPTION_SALT }}",
        "ALLOWED_HOSTS": "${{ RAILWAY_STATIC_URL }}",
        "CORS_ALLOWED_ORIGINS": "https://${{ RAILWAY_STATIC_URL }}"
      }
    },

    "frontend": {
      "name": "Banking Frontend",
      "source": {
        "repo": "https://github.com/your-username/your-repo",
        "path": "frontend"
      },
      "build": {
        "builder": "NIXPACKS"
      },
      "deploy": {
        "startCommand": "npx serve -s dist -l $PORT",
        "healthcheckPath": "/",
        "healthcheckTimeout": 300,
        "restartPolicyType": "ON_FAILURE",
        "restartPolicyMaxRetries": 10
      },
      "env": {
        "REACT_APP_API_BASE_URL": "https://${{ backend.RAILWAY_STATIC_URL }}"
      }
    },

    "database": {
      "name": "PostgreSQL Database",
      "source": {
        "image": "postgres:15"
      },
      "env": {
        "POSTGRES_DB": "banking_db",
        "POSTGRES_USER": "banking_user",
        "POSTGRES_PASSWORD": "${{ RAILWAY_DB_PASSWORD }}"
      }
    },

    "redis": {
      "name": "Redis Cache",
      "source": {
        "image": "redis:7-alpine"
      },
      "env": {
        "REDIS_PASSWORD": "${{ RAILWAY_REDIS_PASSWORD }}"
      }
    }
  },

  "networks": {
    "banking_network": {
      "services": ["backend", "frontend", "database", "redis"]
    }
  }
}